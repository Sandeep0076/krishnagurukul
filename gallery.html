<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Photo Gallery - Krishna Gurukul School. Explore our campus, activities, events, and student life through our comprehensive image gallery.">
    <meta name="keywords" content="Krishna Gurukul School, gallery, photos, campus, activities, students, events">
    <meta name="author" content="Krishna Gurukul School">
    
    <title>Gallery - Krishna Gurukul School</title>
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="images/logo-180.png" type="image/x-icon">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <!-- Logo -->
                <div class="logo">
                    <img src="images/logo-250.png" alt="Krishna Gurukul School Logo">
                </div>
                
                <!-- Navigation Menu -->
                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-link">Home</a></li>
                    <li><a href="about-us.html" class="nav-link">About Us</a></li>
                    <li><a href="academics.html" class="nav-link">Academics</a></li>
                    <li><a href="admission.html" class="nav-link">Admissions</a></li>
                    <li><a href="gallery.html" class="nav-link active">Gallery</a></li>
                    <li><a href="#contact" class="nav-link">Contact</a></li>
                </ul>
                
                <!-- Language Selector -->
                <div class="language-selector">
                    <button class="language-btn" aria-label="Language Options">
                        <i class="fas fa-globe"></i> Language
                    </button>
                    <div id="google_translate_element" style="display: none;"></div>
                </div>
                
                <!-- Mobile Menu Toggle -->
                <button class="mobile-menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main style="margin-top: 100px;">
        <!-- Page Hero Section -->
        <section class="section bg-gray">
            <div class="container">
                <div class="text-center">
                    <h1 class="text-navy">Photo Gallery</h1>
                    <p style="font-size: 1.2rem; margin-top: 1rem;">Capturing moments of learning, growth, and joy at Krishna Gurukul School</p>
                </div>
            </div>
        </section>

        <!-- Gallery Filter Section -->
        <section class="section">
            <div class="container">
                <div class="text-center mb-4">
                    <h2 class="text-navy">Explore Our School Life</h2>
                    <p>Browse through our collection of memories and moments</p>
                </div>
                
                <!-- Category Filter Buttons -->
                <div id="filter-buttons" style="display: flex; justify-content: center; gap: 1rem; margin-bottom: 3rem; flex-wrap: wrap;">
                    <button class="filter-btn active" data-filter="all" style="padding: 0.8rem 2rem; border: 2px solid var(--secondary-teal); background: var(--secondary-teal); color: white; border-radius: 25px; cursor: pointer; font-weight: 600; transition: var(--transition-smooth);">
                        All Photos
                    </button>
                    <!-- Category buttons will be loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Gallery Grid Section -->
        <section class="section section-alt">
            <div class="container">
                <div id="gallery-container" class="gallery-grid">
                    <!-- Gallery items will be loaded dynamically -->
                    <div class="text-center" style="grid-column: 1 / -1;">
                        <i class="fas fa-spinner fa-spin text-teal" style="font-size: 2rem;"></i>
                        <p style="margin-top: 1rem;">Loading gallery images...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="section">
            <div class="container">
                <div class="text-center mb-4">
                    <h2 class="text-navy">School in Numbers</h2>
                    <p>Our journey of excellence reflected in numbers</p>
                </div>
                
                <div class="features">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>500+</h3>
                        <p>Happy Students</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-chalkboard-teacher"></i>
                        </div>
                        <h3>25+</h3>
                        <p>Dedicated Teachers</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <h3>20+</h3>
                        <p>Years of Excellence</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <h3>100%</h3>
                        <p>Board Results</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Call to Action Section -->
        <section class="cta">
            <div class="container">
                <h2>Want to Be Part of These Memories?</h2>
                <p>Join Krishna Gurukul School and create your own journey of success and happiness</p>
                <a href="admission.html" class="cta-btn">Apply for Admission</a>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer" id="contact">
        <div class="container">
            <div class="footer-content">
                <!-- School Info -->
                <div class="footer-section">
                    <img src="images/logo-250.png" alt="Krishna Gurukul School" style="height: 60px; margin-bottom: 1rem;">
                    <p>Inspiring Excellence, Nurturing Tradition. A premier educational institution dedicated to providing quality education with traditional values.</p>
                    <div class="social-icons">
                        <a href="https://www.youtube.com/@krishnagurukul5085" target="_blank" aria-label="YouTube">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="https://www.instagram.com/krishnagurukulschool2001/" target="_blank" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" aria-label="Facebook">
                            <i class="fab fa-facebook"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about-us.html">About Us</a></li>
                        <li><a href="academics.html">Academics</a></li>
                        <li><a href="admission.html">Admissions</a></li>
                        <li><a href="gallery.html">Gallery</a></li>
                    </ul>
                </div>
                
                <!-- Contact Info -->
                <div class="footer-section">
                    <h3>Contact Information</h3>
                    <p><i class="fas fa-map-marker-alt text-teal"></i> Krishna Gurukul School<br>
                       Complete Address<br>
                       City, State, PIN</p>
                    <p><i class="fas fa-phone text-teal"></i> +91-XXXXX-XXXXX</p>
                    <p><i class="fas fa-envelope text-teal"></i> info@krishnagurukulschool.in</p>
                </div>
                
                <!-- School Hours -->
                <div class="footer-section">
                    <h3>School Hours</h3>
                    <p><strong>Monday - Friday:</strong><br>8:00 AM - 3:00 PM</p>
                    <p><strong>Saturday:</strong><br>8:00 AM - 12:00 PM</p>
                    <p><strong>Sunday:</strong><br>Closed</p>
                    <p style="margin-top: 1rem;"><strong>Office Hours:</strong><br>9:00 AM - 4:00 PM</p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Krishna Gurukul School. All Rights Reserved. | Designed with ❤️ for Excellence in Education</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script type="module" src="js/main.js"></script>
    
    <!-- Gallery-specific JavaScript -->
    <script>
        // Gallery functionality
        class GalleryManager {
            constructor() {
                this.galleryContainer = document.getElementById('gallery-container');
                this.filterButtons = document.querySelectorAll('.filter-btn');
                this.currentFilter = 'all';
                this.galleryData = [];
                
                this.init();
            }
            
            async init() {
                await this.loadCategories();
                await this.loadGalleryData();
                this.setupFilterButtons();
                this.renderGallery();
            }
            
            async loadCategories() {
                try {
                    const response = await fetch('data/categories.json');
                    const data = await response.json();
                    this.categories = data.categories || [];
                } catch (error) {
                    console.error('Error loading categories:', error);
                    this.categories = [];
                }
            }
            
            async loadGalleryData() {
                try {
                    const response = await fetch('data/gallery.json');
                    const data = await response.json();
                    this.galleryData = data.gallery || [];
                } catch (error) {
                    console.error('Error loading gallery data:', error);
                    this.showError();
                }
            }
            
            setupFilterButtons() {
                // Create category filter buttons dynamically
                const filterContainer = document.getElementById('filter-buttons');
                
                // Add category buttons
                this.categories.forEach(category => {
                    const button = document.createElement('button');
                    button.className = 'filter-btn';
                    button.dataset.filter = category.id;
                    button.style.cssText = 'padding: 0.8rem 2rem; border: 2px solid var(--secondary-teal); background: transparent; color: var(--secondary-teal); border-radius: 25px; cursor: pointer; font-weight: 600; transition: var(--transition-smooth);';
                    button.textContent = category.name;
                    filterContainer.appendChild(button);
                });
                
                // Get all filter buttons (including the dynamically added ones)
                this.filterButtons = document.querySelectorAll('.filter-btn');
                
                this.filterButtons.forEach(button => {
                    button.addEventListener('click', (e) => {
                        // Update active state
                        this.filterButtons.forEach(btn => {
                            btn.classList.remove('active');
                            btn.style.background = 'transparent';
                            btn.style.color = 'var(--secondary-teal)';
                        });
                        
                        button.classList.add('active');
                        button.style.background = 'var(--secondary-teal)';
                        button.style.color = 'white';
                        
                        // Filter gallery
                        this.currentFilter = button.dataset.filter;
                        this.renderGallery();
                    });
                });
            }
            
            renderGallery() {
                const filteredData = this.currentFilter === 'all' 
                    ? this.galleryData 
                    : this.galleryData.filter(item => item.category === this.currentFilter);
                
                this.galleryContainer.innerHTML = filteredData.map(item => `
                    <div class="gallery-item" data-category="${item.category}">
                        <img src="${item.url}" alt="${item.title}" loading="lazy">
                        <div class="gallery-overlay">
                            <div>
                                <h4>${item.title}</h4>
                                <p>${item.caption}</p>
                            </div>
                        </div>
                    </div>
                `).join('');
                
                // Add click handlers for lightbox
                this.setupLightbox();
            }
            
            setupLightbox() {
                const galleryItems = document.querySelectorAll('.gallery-item');
                galleryItems.forEach(item => {
                    item.addEventListener('click', () => {
                        const img = item.querySelector('img');
                        const title = item.querySelector('h4')?.textContent || '';
                        const caption = item.querySelector('p')?.textContent || '';
                        
                        this.openLightbox(img.src, title, caption);
                    });
                });
            }
            
            openLightbox(imageSrc, title, caption) {
                const lightbox = document.createElement('div');
                lightbox.className = 'lightbox-overlay';
                lightbox.innerHTML = `
                    <div class="lightbox-content">
                        <button class="lightbox-close" aria-label="Close lightbox">&times;</button>
                        <img src="${imageSrc}" alt="${title}">
                        <div class="lightbox-info">
                            <h3>${title}</h3>
                            <p>${caption}</p>
                        </div>
                    </div>
                `;
                
                lightbox.style.cssText = `
                    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                    background: rgba(0, 31, 63, 0.9); display: flex; align-items: center;
                    justify-content: center; z-index: 10000; padding: 2rem;
                `;
                
                const content = lightbox.querySelector('.lightbox-content');
                content.style.cssText = `
                    position: relative; max-width: 90%; max-height: 90%;
                    background: white; border-radius: 15px; overflow: hidden;
                `;
                
                const closeBtn = lightbox.querySelector('.lightbox-close');
                closeBtn.style.cssText = `
                    position: absolute; top: 1rem; right: 1rem; background: var(--primary-navy);
                    color: white; border: none; width: 40px; height: 40px; border-radius: 50%;
                    font-size: 1.5rem; cursor: pointer; z-index: 1;
                `;
                
                const img = lightbox.querySelector('img');
                img.style.cssText = `width: 100%; height: auto; display: block;`;
                
                const info = lightbox.querySelector('.lightbox-info');
                info.style.cssText = `padding: 1.5rem; text-align: center;`;
                
                document.body.appendChild(lightbox);
                
                closeBtn.addEventListener('click', () => this.closeLightbox(lightbox));
                lightbox.addEventListener('click', (e) => {
                    if (e.target === lightbox) this.closeLightbox(lightbox);
                });
                
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') this.closeLightbox(lightbox);
                });
            }
            
            closeLightbox(lightbox) {
                lightbox.style.opacity = '0';
                setTimeout(() => {
                    if (lightbox && lightbox.parentNode) {
                        lightbox.parentNode.removeChild(lightbox);
                    }
                }, 300);
            }
            
            showError() {
                this.galleryContainer.innerHTML = `
                    <div class="text-center" style="grid-column: 1 / -1;">
                        <i class="fas fa-exclamation-triangle text-gold" style="font-size: 2rem;"></i>
                        <p style="margin-top: 1rem;">Unable to load gallery images. Please try again later.</p>
                    </div>
                `;
            }
        }
        
        // Initialize gallery when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new GalleryManager();
        });
    </script>
    
    <!-- Google Translate -->
    <script type="text/javascript">// <![CDATA[
        function googleTranslateElementInit() {
        new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
        }
        // ]]></script>
        <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" type="text/javascript"></script>
</body>
</html>
